{"version":3,"sources":["../../lib/Firefox/Button.js"],"names":[],"mappings":";;;;;;;;;;AAAA,IAAM,SAAS,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;;eACnB,OAAO,CAAC,uBAAuB,CAAC;;IAA9C,SAAS,YAAT,SAAS;;IAEX,MAAM;WAAN,MAAM;;AACA,UADN,MAAM,CACC,OAAO,EAAE,IAAI,EAAE;;;wBADtB,MAAM;;AAEV,6BAFI,MAAM,6CAEF;AACR,MAAI,CAAC,KAAK,GAAG,IAAI,CAAC;AAClB,MAAI,MAAM,CAAC;;;;AAIX,MAAI,OAAO,EAAE;;AACZ,SAAM,GAAG,OAAO,CAAC,YAAY,CAAC;AAC7B,MAAE,EAAE,aAAa;AACjB,SAAK,EAAE,aAAa;AACpB,QAAI,EAAE,SAAS,CAAC,IAAI;IACpB,CAAC,CAAC;AACH,SAAM,CAAC,EAAE,CAAC,OAAO,EAAE;WAAM,MAAK,QAAQ,EAAE;IAAA,CAAC,CAAC;GAC1C,MACI,IAAI,IAAI,CAAC,KAAK,EAAE;;AACpB,OAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,aAAa,EAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;WAAM,MAAK,QAAQ,EAAE;IAAA,CAAC,CAAC;GAC5F,MACI,MAAM,IAAI,KAAK,CAAC,sEAAsE,CAAC,CAAC;EAC7F;;cApBI,MAAM;;SAqBL,kBAAG;;;AAGR,OAAI,IAAI,CAAC,SAAS,EACjB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;GACnC;;;SACO,oBAAG;AACV,OAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;GACnB;;;QA7BI,MAAM;GAAS,SAAS;;AAgC9B,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC","file":"Button.js","sourcesContent":["const Constants = require('./Constants');\nconst { Eventable } = require('omniscience-utilities');\n\nclass Button extends Eventable {\n\tconstructor(buttons, menu) {\n\t\tsuper();\n\t\tthis._menu = menu;\n\t\tvar button;\n\n\t\t//todo: remove these out into their respective sdk files\n\n\t\tif (buttons) { //desktop firefox\n\t\t\tbutton = buttons.ActionButton({\n\t\t\t\tid: 'omniscience',\n\t\t\t\tlabel: 'Omniscience',\n\t\t\t\ticon: Constants.icon\n\t\t\t});\n\t\t\tbutton.on('click', () => this._onClick());\n\t\t}\n\t\telse if (this._menu) { //firefox for android\n\t\t\tthis._buttonId = this._menu.add(\"Omniscience\", Constants.icon['64'], () => this._onClick());\n\t\t}\n\t\telse throw new Error(\"Neither button nor menu were defined.  At least one must be defined.\");\n\t}\n\tremove() {\n\t\t//on android the menu item needs to be removed manually when the extension is disabled or uninstalled\n\t\t//this does not need to be done for desktop\n\t\tif (this._buttonId)\n\t\t\tthis._menu.remove(this._buttonId);\n\t}\n\t_onClick() {\n\t\tthis.emit(\"click\");\n\t}\n}\n\nmodule.exports = Button;"]}