{"version":3,"sources":["../../lib/Firefox/Button.js"],"names":[],"mappings":";;;;;;;;;;AAAA,IAAM,SAAS,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;;eACnB,OAAO,CAAC,uBAAuB,CAAC;;IAA9C,SAAS,YAAT,SAAS;;IAEX,MAAM;WAAN,MAAM;;AACA,UADN,MAAM,CACC,OAAO,EAAE,IAAI,EAAE;;;wBADtB,MAAM;;AAEV,6BAFI,MAAM,6CAEF;AACR,MAAI,CAAC,KAAK,GAAG,IAAI,CAAC;AAClB,MAAI,MAAM,CAAC;;;;AAIX,MAAI,OAAO,EAAE;;AACZ,SAAM,GAAG,OAAO,CAAC,YAAY,CAAC;AAC7B,MAAE,EAAE,aAAa;AACjB,SAAK,EAAE,aAAa;AACpB,QAAI,EAAE,SAAS,CAAC,IAAI;IACpB,CAAC,CAAC;AACH,SAAM,CAAC,EAAE,CAAC,OAAO,EAAE;WAAM,MAAK,QAAQ,EAAE;IAAA,CAAC,CAAC;GAC1C,MACI,IAAI,IAAI,CAAC,KAAK,EAAE;;AACpB,OAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,aAAa,EAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;WAAM,MAAK,QAAQ,EAAE;IAAA,CAAC,CAAC;GAC5F,MACI,MAAM,IAAI,KAAK,CAAC,sEAAsE,CAAC,CAAC;EAC7F;;cApBI,MAAM;;SAqBL,kBAAG;;;AAGR,OAAI,IAAI,CAAC,SAAS,EACjB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;GACnC;;;SACO,oBAAG;AACV,OAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;GACnB;;;QA7BI,MAAM;GAAS,SAAS;;AAgC9B,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC","file":"Button.js","sourcesContent":["const Constants = require('./Constants');\r\nconst { Eventable } = require('omniscience-utilities');\r\n\r\nclass Button extends Eventable {\r\n\tconstructor(buttons, menu) {\r\n\t\tsuper();\r\n\t\tthis._menu = menu;\r\n\t\tvar button;\r\n\r\n\t\t//todo: remove these out into their respective sdk files\r\n\r\n\t\tif (buttons) { //desktop firefox\r\n\t\t\tbutton = buttons.ActionButton({\r\n\t\t\t\tid: 'omniscience',\r\n\t\t\t\tlabel: 'Omniscience',\r\n\t\t\t\ticon: Constants.icon\r\n\t\t\t});\r\n\t\t\tbutton.on('click', () => this._onClick());\r\n\t\t}\r\n\t\telse if (this._menu) { //firefox for android\r\n\t\t\tthis._buttonId = this._menu.add(\"Omniscience\", Constants.icon['64'], () => this._onClick());\r\n\t\t}\r\n\t\telse throw new Error(\"Neither button nor menu were defined.  At least one must be defined.\");\r\n\t}\r\n\tremove() {\r\n\t\t//on android the menu item needs to be removed manually when the extension is disabled or uninstalled\r\n\t\t//this does not need to be done for desktop\r\n\t\tif (this._buttonId)\r\n\t\t\tthis._menu.remove(this._buttonId);\r\n\t}\r\n\t_onClick() {\r\n\t\tthis.emit(\"click\");\r\n\t}\r\n}\r\n\r\nmodule.exports = Button;"]}